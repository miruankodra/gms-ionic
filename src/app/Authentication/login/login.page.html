<ion-content>
  <div class="flex-center h-100">
    <form [formGroup]="loginForm">
      <ion-card>
        <ion-card-header>
          <ion-card-title color="success">GMS Login</ion-card-title>
        </ion-card-header>

        <ion-card-content>
          <ion-list>
            <ion-item>
              <ion-label position="floating">Email</ion-label>
              <ion-input
                type="Email"
                name="email"
                formControlName="email"
              ></ion-input>
            </ion-item>
            <ion-label
              color="danger"
              *ngIf="loginForm.get('email').touched && loginForm.get('email').errors?.required"
              >* Email is mandatory</ion-label
            >
            <ion-label
              color="danger"
              *ngIf="loginForm.get('email').touched && loginForm.get('email').errors?.email"
              >* Email is invalid</ion-label>
            <ion-item>
              <ion-label position="floating">Password</ion-label>
              <ion-input
                type="Password"
                name="password"
                formControlName="password"
              ></ion-input>
            </ion-item>
            <ion-label
              color="danger"
              *ngIf="loginForm.get('password').touched && loginForm.get('password').errors?.required"
              >* Password is mandatory</ion-label
            >
          </ion-list>
          <ion-button
            (click)="forgotPassword()"
            color="dark"
            fill="clear"
            size="full"
            [disabled]="!loginForm.get('email').valid"
            (click)="goToVerification(loginForm.get('email').value)"
            >Forgot Password</ion-button
          >
          <ion-button
            type="submit"
            color="success"
            size="full"
            [disabled]="!loginForm.valid"
            (click)="login(loginForm.value)"
            >Login</ion-button
          >
          <ion-button
            color="success"
            fill="clear"
            size="full"
            (click)="toRegister()"
            >Enroll</ion-button
          >
        </ion-card-content>
      </ion-card>
    </form>
  </div>
</ion-content>
